<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Species Table</title>
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.2.3/css/buttons.dataTables.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>
</head>

<body>
  <h3>Species Data</h3>
  <table id="speciesTable" class="display nowrap" style="width:100%">
    <thead>
      <tr>
        <th>Col Num</th>
        <th>Species Name</th>
        <th>No. of Species</th>
        <th>No. of Param</th>
      </tr>
    </thead>
    <tbody>
      <tr id="XYZ description for Species A">
        <td>1</td>
        <td id="tag"><i class="material-icons">visibility_off</i> Species A</td>
        <td>25</td>
        <td>4</td>
      </tr>
      <tr id="XYZ description for Species B">
        <td>2</td>
        <td id="tag"><i class="material-icons">visibility_off</i> Species B</td>
        <td>40</td>
        <td>6</td>
      </tr>
      <tr id="XYZ description for Species C">
        <td>3</td>
        <td id="tag"><i class="material-icons">visibility_off</i> Species C</td>
        <td>15</td>
        <td>3</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <th>Col Num</th>
        <th>Species Name</th>
        <th>No. of Species</th>
        <th>No. of Param</th>
      </tr>
    </tfoot>
  </table>

  <script>
    $(document).ready(function () {
      var speciesTable = $('#speciesTable').DataTable({
        dom: 'Bfrtip',
        buttons: ['copy', 'csv', 'excel', 'pdf', 'print'],
        scrollX: true,
        paging: true,
        columnDefs: [
          {"className": "dt-center", "targets": "_all"},
          { width: '10%', targets: 0 },
          { width: '40%', targets: 1 },
          { width: '25%', targets: 2 },
          { width: '25%', targets: 3 }
        ]
      });

      $('#speciesTable tbody').on('click', 'td:nth-child(2)', function () {
        var tr = $(this).closest('tr');
        var row = speciesTable.row(tr);
        var rowId = tr.attr('id');

        if (row.child.isShown()) {
          row.child.hide();
          tr.removeClass('shown');
          tr.find('td:nth-child(2)').html('<i class="material-icons">visibility_off</i> ' + rowId.split(' ')[3]);
        } else {
          var content = '<div class="child-row-content"><strong>Description:</strong> ' + rowId + '</div>';
          row.child(content).show();
          tr.addClass('shown');
          tr.find('td:nth-child(2)').html('<i class="material-icons">visibility</i> ' + rowId.split(' ')[3]);
        }
      });
    });
  </script>

  <style>
    .child-row-content {
      text-align: justify;
      word-wrap: break-word;
      white-space: normal;
      max-width: 100%;
      padding: 10px;
      font-size: small;
    }
  </style>
</body>
</html>
